# API同步记录

## 文档履历

| 版本 | 日期 | 修改人 | 修改内容 | 审核状态 |
|------|------|--------|----------|----------|
| v1.0 | 2026-02-03 | BE工程师 | 初始创建 | 🔄 待审核 |

---

## 文档用途

此文档用于记录 **BE（后端）** 与 **FE（前端）** 之间的API字段同步申请和确认。

### 使用场景

1. **前端发现字段不匹配**
   - 前端调用API时发现返回字段与预期不符
   - 需要新增字段或修改字段类型

2. **后端主动变更字段**
   - 后端需要新增/修改/删除字段
   - 需要通知前端并确认影响

3. **API契约调整**
   - 双方协商调整API契约
   - 需要记录协商结果

---

## 同步申请模板

### 申请格式（前端发起）

```markdown
### 同步申请 {序号} (YYYY-MM-DD)
**申请方**: FE（前端）
**申请人**: [姓名]
**状态**: 🔄 待处理 / ✅ 已确认 / ❌ 已拒绝

**申请内容**:
- **模块**: [模块名称]
- **接口**: [接口路径]
- **变更类型**: [新增字段/修改字段/删除字段/修改类型]

**变更详情**:
| 字段名 | 当前状态 | 期望状态 | 原因 |
|--------|---------|---------|------|
| [字段名] | [当前类型/值] | [期望类型/值] | [原因说明] |

**影响评估**:
- [ ] 影响现有功能
- [ ] 影响现有数据展示
- [ ] 需要前端修改代码
- [ ] 需要后端修改代码
- [ ] 需要更新文档

**优先级**: [高/中/低]
**期望完成时间**: YYYY-MM-DD

---
**BE回复**: 
[后端回复内容]
**处理人**: [后端负责人]
**预计完成时间**: YYYY-MM-DD
```

### 申请格式（后端发起）

```markdown
### 同步申请 {序号} (YYYY-MM-DD)
**申请方**: BE（后端）
**申请人**: [姓名]
**状态**: 🔔 待确认 / ✅ 已确认 / ❌ 有异议

**变更内容**:
- **模块**: [模块名称]
- **接口**: [接口路径]
- **变更类型**: [新增字段/修改字段/删除字段/修改类型/废弃接口]

**变更详情**:
| 字段名 | 变更前 | 变更后 | 原因 |
|--------|-------|-------|------|
| [字段名] | [原类型/值] | [新类型/值] | [原因说明] |

**向后兼容性**:
- [ ] 完全兼容（新增可选字段）
- [ ] 部分兼容（需要前端适配）
- [ ] 不兼容（破坏性变更）

**影响评估**:
- [ ] 影响前端页面展示
- [ ] 影响前端数据处理逻辑
- [ ] 需要前端修改代码
- [ ] 有废弃过渡期

**预计完成时间**: YYYY-MM-DD

---
**FE回复**:
[前端回复内容]
**确认人**: [前端负责人]
**影响确认**: [确认影响范围和修改计划]
```

---

## 同步申请记录

暂无同步申请记录。

---

## 待处理申请统计

| 状态 | 数量 |
|------|------|
| 🔄 待处理 | 0 |
| 🔔 待确认 | 0 |
| ✅ 已确认 | 0 |
| ❌ 已拒绝/有异议 | 0 |
| **总计** | **0** |

---

## 常见问题

### Q1: 什么情况下需要提交同步申请？

**需要申请的情况**:
- 新增接口或字段
- 修改字段类型（如 string → number）
- 删除字段
- 修改字段含义或取值范围
- 修改接口路径
- 废弃接口

**不需要申请的情况**:
- 纯Bug修复（字段值错误）
- 优化响应时间
- 修复文档错误（字段描述不准确）

### Q2: 申请的优先级如何定义？

| 优先级 | 定义 | 处理时限 |
|--------|------|---------|
| **高** | 阻塞当前开发/线上问题 | 1个工作日内 |
| **中** | 影响下个版本功能 | 3个工作日内 |
| **低** | 优化建议/未来规划 | 1周内 |

### Q3: 如何处理紧急变更？

紧急变更流程：
1. 口头/即时通讯工具通知对方
2. 立即在此文档记录
3. 双方确认后立即执行
4. 事后补充完整记录

### Q4: 变更被拒绝怎么办？

如果申请被拒绝：
1. 了解拒绝原因
2. 协商替代方案
3. 如需升级，可提请技术负责人仲裁
4. 最终方案记录在此文档

---

## 同步流程图

```
┌─────────────┐     ┌─────────────┐
│   发现需求   │────▶│  填写申请表  │
└─────────────┘     └──────┬──────┘
                           │
                           ▼
                    ┌─────────────┐
                    │  提交给对方  │
                    └──────┬──────┘
                           │
              ┌────────────┴────────────┐
              ▼                         ▼
       ┌─────────────┐          ┌─────────────┐
       │  对方评估影响  │          │  对方确认   │
       └──────┬──────┘          └──────┬──────┘
              │                         │
              ▼                         ▼
       ┌─────────────┐          ┌─────────────┐
       │  反馈结果    │◀─────────│  记录确认   │
       └─────────────┘          └─────────────┘
```

---

## 联系人和响应时间

| 角色 | 联系人 | 响应时间承诺 |
|------|--------|-------------|
| BE负责人 | [待定] | 工作日24小时内 |
| FE负责人 | [待定] | 工作日24小时内 |
| 技术负责人 | [待定] | 工作日48小时内 |

---

## 使用说明

1. **提交申请**: 按模板填写，删除示例内容
2. **状态更新**: 处理过程中及时更新状态
3. **结果记录**: 完成后记录最终结果
4. **定期清理**: 已完成的申请每月归档一次
5. **紧急情况**: 可先口头沟通，后补记录

---

## 归档记录

暂无归档记录。

---

**文档管理说明**:
1. 此文档用于BE和FE之间的API契约同步
2. 所有API字段变更必须通过此文档记录
3. 紧急情况下可先执行后补记录
4. 双方负责人需定期（建议每周）检查待处理申请
5. 已完成的申请每月归档，保持文档简洁
6. 如有争议，升级至技术负责人仲裁
