ðŸ”§ å¯åŠ¨å®Œæ•´APIæœåŠ¡å™¨ï¼ˆå«æƒé™ç®¡ç†ï¼‰...
ðŸŒ± åˆå§‹åŒ–æƒé™æ•°æ®...

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:41
[0m[33m[3.945ms] [34;1m[rows:1][0m SELECT * FROM "permissions" WHERE id = 'vm:read' ORDER BY "permissions"."id" LIMIT 1

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:41
[0m[33m[0.182ms] [34;1m[rows:1][0m SELECT * FROM "permissions" WHERE id = 'vm:write' ORDER BY "permissions"."id" LIMIT 1

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:41
[0m[33m[0.142ms] [34;1m[rows:1][0m SELECT * FROM "permissions" WHERE id = 'vm:delete' ORDER BY "permissions"."id" LIMIT 1

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:41
[0m[33m[0.137ms] [34;1m[rows:1][0m SELECT * FROM "permissions" WHERE id = 'vm:metrics' ORDER BY "permissions"."id" LIMIT 1

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:41
[0m[33m[0.174ms] [34;1m[rows:1][0m SELECT * FROM "permissions" WHERE id = 'alert:read' ORDER BY "permissions"."id" LIMIT 1

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:41
[0m[33m[0.156ms] [34;1m[rows:1][0m SELECT * FROM "permissions" WHERE id = 'alert:write' ORDER BY "permissions"."id" LIMIT 1

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:41
[0m[33m[0.109ms] [34;1m[rows:1][0m SELECT * FROM "permissions" WHERE id = 'alert:acknowledge' ORDER BY "permissions"."id" LIMIT 1

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:41
[0m[33m[0.108ms] [34;1m[rows:1][0m SELECT * FROM "permissions" WHERE id = 'alert:resolve' ORDER BY "permissions"."id" LIMIT 1

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:41
[0m[33m[0.181ms] [34;1m[rows:1][0m SELECT * FROM "permissions" WHERE id = 'user:read' ORDER BY "permissions"."id" LIMIT 1

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:41
[0m[33m[0.129ms] [34;1m[rows:1][0m SELECT * FROM "permissions" WHERE id = 'user:write' ORDER BY "permissions"."id" LIMIT 1

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:41
[0m[33m[0.136ms] [34;1m[rows:1][0m SELECT * FROM "permissions" WHERE id = 'user:delete' ORDER BY "permissions"."id" LIMIT 1

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:41
[0m[33m[0.127ms] [34;1m[rows:1][0m SELECT * FROM "permissions" WHERE id = 'role:read' ORDER BY "permissions"."id" LIMIT 1

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:41
[0m[33m[0.125ms] [34;1m[rows:1][0m SELECT * FROM "permissions" WHERE id = 'role:write' ORDER BY "permissions"."id" LIMIT 1

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:41
[0m[33m[0.131ms] [34;1m[rows:1][0m SELECT * FROM "permissions" WHERE id = 'system:settings' ORDER BY "permissions"."id" LIMIT 1

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:41
[0m[33m[0.122ms] [34;1m[rows:1][0m SELECT * FROM "permissions" WHERE id = 'system:logs' ORDER BY "permissions"."id" LIMIT 1

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:87
[0m[33m[1.646ms] [34;1m[rows:1][0m SELECT * FROM "roles" WHERE id = '11111111-1111-1111-1111-111111111111' ORDER BY "roles"."id" LIMIT 1

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:87
[0m[33m[0.160ms] [34;1m[rows:1][0m SELECT * FROM "roles" WHERE id = '22222222-2222-2222-2222-222222222222' ORDER BY "roles"."id" LIMIT 1

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:87
[0m[33m[0.138ms] [34;1m[rows:1][0m SELECT * FROM "roles" WHERE id = '33333333-3333-3333-3333-333333333333' ORDER BY "roles"."id" LIMIT 1

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:103
[0m[33m[0.549ms] [34;1m[rows:22][0m SELECT * FROM "role_permissions" WHERE "role_permissions"."role_id" = '11111111-1111-1111-1111-111111111111'

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:103
[0m[33m[0.879ms] [34;1m[rows:22][0m SELECT * FROM "permissions" WHERE "permissions"."id" IN ('alert:acknowledge','alert:admin','alert:read','alert:resolve','alert:write','history:export','history:read','role:read','role:write','system:admin','system:logs','system:read','system:settings','user:admin','user:delete','user:read','user:write','vm:admin','vm:delete','vm:metrics','vm:read','vm:write')

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:103
[0m[33m[1.823ms] [34;1m[rows:1][0m SELECT * FROM "roles" WHERE "roles"."id" = '11111111-1111-1111-1111-111111111111' ORDER BY "roles"."id" LIMIT 1

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:114
[0m[33m[0.131ms] [34;1m[rows:12][0m SELECT * FROM "role_permissions" WHERE "role_permissions"."role_id" = '22222222-2222-2222-2222-222222222222'

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:114
[0m[33m[0.251ms] [34;1m[rows:12][0m SELECT * FROM "permissions" WHERE "permissions"."id" IN ('alert:acknowledge','alert:read','alert:resolve','alert:write','history:export','history:read','system:logs','vm:admin','vm:delete','vm:metrics','vm:read','vm:write')

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:114
[0m[33m[0.583ms] [34;1m[rows:1][0m SELECT * FROM "roles" WHERE "roles"."id" = '22222222-2222-2222-2222-222222222222' ORDER BY "roles"."id" LIMIT 1

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:128
[0m[33m[0.137ms] [34;1m[rows:3][0m SELECT * FROM "role_permissions" WHERE "role_permissions"."role_id" = '33333333-3333-3333-3333-333333333333'

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:128
[0m[33m[0.259ms] [34;1m[rows:3][0m SELECT * FROM "permissions" WHERE "permissions"."id" IN ('alert:read','vm:metrics','vm:read')

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/internal/models/seed.go:128
[0m[33m[0.585ms] [34;1m[rows:1][0m SELECT * FROM "roles" WHERE "roles"."id" = '33333333-3333-3333-3333-333333333333' ORDER BY "roles"."id" LIMIT 1
âœ… æƒé™æ•°æ®åˆå§‹åŒ–å®Œæˆ

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[3.555ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.229ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[10.590ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'vm_monitoring' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.635ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[9.139ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'vm_monitoring' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[4.356ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'vm_monitoring' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.426ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[1.199ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.868ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'username') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.866ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.951ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password_hash') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.749ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.781ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.163ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'department') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.139ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'avatar') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.142ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.125ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'must_change_password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.129ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'mfa_enabled') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.130ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'mfa_secret') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.128ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'last_login_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.128ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'last_login_ip') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.126ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'login_fail_count') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.132ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'locked_until') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.123ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password_expired_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.126ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'preferences') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.130ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.148ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.274ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.206ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[1.181ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_username' AND schemaname = CURRENT_SCHEMA()

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.280ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.309ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND table_type = 'BASE TABLE'

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.084ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[2.488ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'vm_monitoring' AND table_schema = CURRENT_SCHEMA() AND table_name = 'roles'

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.153ms] [34;1m[rows:-][0m SELECT * FROM "roles" LIMIT 5

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[3.596ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'vm_monitoring' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'roles' AND constraint_type = 'UNIQUE'

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[3.680ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'vm_monitoring' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'roles'

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.210ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'roles'

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.214ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.123ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.121ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.116ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND column_name = 'parent_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.137ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND column_name = 'level') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.137ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND column_name = 'path') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.143ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND column_name = 'is_system') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.139ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.117ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.121ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.120ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND column_name = 'updated_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.620ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND constraint_name = 'fk_roles_children'

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.320ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'roles' AND indexname = 'idx_roles_name' AND schemaname = CURRENT_SCHEMA()

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.286ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'roles' AND indexname = 'idx_roles_parent_id' AND schemaname = CURRENT_SCHEMA()

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.258ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_roles' AND table_type = 'BASE TABLE'

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.082ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[2.334ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'vm_monitoring' AND table_schema = CURRENT_SCHEMA() AND table_name = 'user_roles'

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.222ms] [34;1m[rows:-][0m SELECT * FROM "user_roles" LIMIT 5

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[3.134ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'vm_monitoring' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user_roles' AND constraint_type = 'UNIQUE'

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[3.195ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'vm_monitoring' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user_roles'

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.202ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'user_roles'

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.163ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_roles' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.138ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_roles' AND column_name = 'role_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.460ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_roles' AND constraint_name = 'fk_user_roles_user'

2026/02/07 10:52:52 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:809
[0m[33m[0.406ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_roles' AND constraint_name = 'fk_user_roles_role'
âœ… æ•°æ®åº“è¿ç§»å®Œæˆ
[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /health                   --> main.main.func2 (4 handlers)
[GIN-debug] GET    /uploads/*filepath        --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (4 handlers)
[GIN-debug] HEAD   /uploads/*filepath        --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (4 handlers)
[GIN-debug] POST   /api/v1/auth/register     --> main.main.func3 (4 handlers)
[GIN-debug] POST   /api/v1/auth/login        --> main.main.func4 (4 handlers)
[GIN-debug] GET    /api/v1/users             --> main.main.func5 (5 handlers)
[GIN-debug] DELETE /api/v1/users/:id         --> main.main.func6 (5 handlers)
[GIN-debug] GET    /api/v1/auth/profile      --> main.main.func7 (5 handlers)
[GIN-debug] PUT    /api/v1/auth/profile      --> main.main.func8 (5 handlers)
[GIN-debug] POST   /api/v1/auth/avatar       --> main.main.func9 (5 handlers)
[GIN-debug] POST   /api/v1/auth/logout       --> main.main.func10 (5 handlers)
[GIN-debug] GET    /api/v1/vms               --> main.main.func11 (5 handlers)
[GIN-debug] GET    /api/v1/vms/stats         --> main.main.func12 (5 handlers)
[GIN-debug] GET    /api/v1/vms/:id           --> main.main.func13 (5 handlers)
[GIN-debug] POST   /api/v1/vms               --> main.main.func14 (5 handlers)
[GIN-debug] PUT    /api/v1/vms/:id           --> main.main.func15 (5 handlers)
[GIN-debug] DELETE /api/v1/vms/:id           --> main.main.func16 (5 handlers)
[GIN-debug] GET    /api/v1/vms/:id/metrics   --> main.main.func17 (5 handlers)
[GIN-debug] GET    /api/v1/vms/metrics/all   --> main.main.func18 (5 handlers)
[GIN-debug] GET    /api/v1/vms/:id/metrics/history --> main.main.func19 (5 handlers)
[GIN-debug] GET    /api/v1/alerts/rules      --> main.main.func20 (5 handlers)
[GIN-debug] GET    /api/v1/alerts/rules/:id  --> main.main.func21 (5 handlers)
[GIN-debug] POST   /api/v1/alerts/rules      --> main.main.func22 (5 handlers)
[GIN-debug] PUT    /api/v1/alerts/rules/:id  --> main.main.func23 (5 handlers)
[GIN-debug] DELETE /api/v1/alerts/rules/:id  --> main.main.func24 (5 handlers)
[GIN-debug] GET    /api/v1/alerts/records    --> main.main.func25 (5 handlers)
[GIN-debug] GET    /api/v1/alerts/stats      --> main.main.func26 (5 handlers)
[GIN-debug] POST   /api/v1/alerts/:id/acknowledge --> main.main.func27 (5 handlers)
[GIN-debug] POST   /api/v1/alerts/:id/resolve --> main.main.func28 (5 handlers)
[GIN-debug] POST   /api/v1/alerts/test       --> main.main.func29 (5 handlers)
[GIN-debug] GET    /api/v1/permissions       --> main.main.func30 (5 handlers)
[GIN-debug] GET    /api/v1/permissions/:id   --> main.main.func31 (5 handlers)
[GIN-debug] POST   /api/v1/permissions       --> main.main.func32 (5 handlers)
[GIN-debug] DELETE /api/v1/permissions/:id   --> main.main.func33 (5 handlers)
[GIN-debug] GET    /api/v1/permissions/role/:roleId --> main.main.func34 (5 handlers)
[GIN-debug] POST   /api/v1/permissions/role/:roleId --> main.main.func35 (5 handlers)
[GIN-debug] GET    /api/v1/roles             --> main.main.func36 (5 handlers)
[GIN-debug] GET    /api/v1/roles/:id         --> main.main.func37 (5 handlers)
[GIN-debug] POST   /api/v1/roles             --> main.main.func38 (5 handlers)
[GIN-debug] PUT    /api/v1/roles/:id         --> main.main.func39 (5 handlers)
[GIN-debug] DELETE /api/v1/roles/:id         --> main.main.func40 (5 handlers)
[GIN-debug] GET    /api/v1/roles/:id/users   --> main.main.func41 (5 handlers)
[GIN-debug] POST   /api/v1/roles/users       --> main.main.func42 (5 handlers)
[GIN-debug] GET    /api/v1/users/:userId/roles --> main.main.func43 (5 handlers)
[GIN-debug] GET    /api/v1/users/:userId/permissions --> main.main.func44 (5 handlers)
ðŸš€ APIæœåŠ¡å™¨å¯åŠ¨: http://localhost:8080
[GIN-debug] [WARNING] You trusted all proxies, this is NOT safe. We recommend you to set a value.
Please check https://pkg.go.dev/github.com/gin-gonic/gin#readme-don-t-trust-all-proxies for details.
[GIN-debug] Listening and serving HTTP on :8080
[GIN] 2026/02/07 - 10:52:57 | 404 |       3.166Âµs |             ::1 | GET      "/api/v1/health"

2026/02/07 10:53:01 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:117
[0m[33m[2.002ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE username = 'testuser4' OR email = 'testuser4' ORDER BY "users"."id" LIMIT 1
[GIN] 2026/02/07 - 10:53:01 | 200 |   65.711667ms |             ::1 | POST     "/api/v1/auth/login"

2026/02/07 10:53:03 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:416
[0m[33m[2.103ms] [34;1m[rows:1][0m SELECT count(*) FROM "alert_records"

2026/02/07 10:53:03 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:418
[0m[33m[0.566ms] [34;1m[rows:8][0m SELECT * FROM "alert_records" ORDER BY triggered_at DESC LIMIT 10
[GIN] 2026/02/07 - 10:53:03 | 200 |    2.866125ms |             ::1 | GET      "/api/v1/alerts/records"

2026/02/07 10:53:03 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:424
[0m[33m[7.601ms] [34;1m[rows:1][0m SELECT count(*) FROM "alert_records"

2026/02/07 10:53:03 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:324
[0m[33m[7.271ms] [34;1m[rows:1][0m SELECT count(*) FROM "alert_rules"

2026/02/07 10:53:03 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:326
[0m[33m[1.705ms] [34;1m[rows:2][0m SELECT * FROM "alert_rules" ORDER BY created_at DESC LIMIT 10
[GIN] 2026/02/07 - 10:53:03 | 200 |    9.123417ms |             ::1 | GET      "/api/v1/alerts/rules"

2026/02/07 10:53:03 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:425
[0m[33m[1.834ms] [34;1m[rows:1][0m SELECT count(*) FROM "alert_records" WHERE status = 'active'

2026/02/07 10:53:03 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:426
[0m[33m[0.372ms] [34;1m[rows:1][0m SELECT count(*) FROM "alert_records" WHERE severity = 'critical'

2026/02/07 10:53:03 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:427
[0m[33m[0.164ms] [34;1m[rows:1][0m SELECT count(*) FROM "alert_records" WHERE severity = 'warning'
[GIN] 2026/02/07 - 10:53:03 | 200 |   10.589875ms |             ::1 | GET      "/api/v1/alerts/stats"

2026/02/07 10:53:05 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:498
[0m[33m[1.506ms] [34;1m[rows:22][0m SELECT * FROM "permissions" ORDER BY resource, action
[GIN] 2026/02/07 - 10:53:05 | 200 |    1.638333ms |             ::1 | GET      "/api/v1/permissions"

2026/02/07 10:53:05 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:856
[0m[33m[0.865ms] [34;1m[rows:2][0m SELECT * FROM "user_roles" WHERE "user_roles"."user_id" IN ('d0a90074-6e35-4bc0-aed6-91f994324894','3a2e28e4-759f-49b0-b4fe-f90d2769416f')

2026/02/07 10:53:05 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:856
[0m[33m[0.497ms] [34;1m[rows:2][0m SELECT * FROM "roles" WHERE "roles"."id" IN ('11111111-1111-1111-1111-111111111111','22222222-2222-2222-2222-222222222222')

2026/02/07 10:53:05 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:856
[0m[33m[3.761ms] [34;1m[rows:2][0m SELECT * FROM "users"
[GIN] 2026/02/07 - 10:53:05 | 200 |     3.88525ms |             ::1 | GET      "/api/v1/users"

2026/02/07 10:53:05 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:602
[0m[33m[0.968ms] [34;1m[rows:37][0m SELECT * FROM "role_permissions" WHERE "role_permissions"."role_id" IN ('11111111-1111-1111-1111-111111111111','22222222-2222-2222-2222-222222222222','33333333-3333-3333-3333-333333333333')

2026/02/07 10:53:05 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:602
[0m[33m[0.942ms] [34;1m[rows:22][0m SELECT * FROM "permissions" WHERE "permissions"."id" IN ('vm:read','vm:write','vm:admin','alert:read','alert:write','alert:admin','history:read','history:export','user:read','user:write','user:admin','system:read','system:admin','vm:delete','vm:metrics','alert:acknowledge','alert:resolve','user:delete','role:read','role:write','system:settings','system:logs')

2026/02/07 10:53:05 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:602
[0m[33m[4.162ms] [34;1m[rows:3][0m SELECT * FROM "roles" ORDER BY level ASC

2026/02/07 10:53:05 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:606
[0m[33m[0.495ms] [34;1m[rows:1][0m SELECT count(*) FROM "user_roles" WHERE role_id = '11111111-1111-1111-1111-111111111111'

2026/02/07 10:53:05 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:606
[0m[33m[0.163ms] [34;1m[rows:1][0m SELECT count(*) FROM "user_roles" WHERE role_id = '22222222-2222-2222-2222-222222222222'

2026/02/07 10:53:05 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:606
[0m[33m[0.106ms] [34;1m[rows:1][0m SELECT count(*) FROM "user_roles" WHERE role_id = '33333333-3333-3333-3333-333333333333'
[GIN] 2026/02/07 - 10:53:05 | 200 |    5.071333ms |             ::1 | GET      "/api/v1/roles"

2026/02/07 10:53:08 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:1025
[0m[33m[3.800ms] [34;1m[rows:-][0m 
				SELECT 
					v.id as vm_id,
					v.name as vm_name,
					m.cpu_usage,
					m.memory_usage,
					m.disk_usage,
					m.disk_read_mbps,
					m.disk_write_mbps,
					m.network_in_mbps,
					m.network_out_mbps,
					m.temperature,
					m.recorded_at
				FROM vms v
				LEFT JOIN vm_metrics m ON v.id = m.vm_id
				WHERE v.is_deleted = false
				ORDER BY m.recorded_at DESC
			
[GIN] 2026/02/07 - 10:53:08 | 200 |           4ms |             ::1 | GET      "/api/v1/vms/metrics/all"

2026/02/07 10:53:14 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:1081
[0m[33m[3.514ms] [34;1m[rows:-][0m SELECT recorded_at as timestamp, cpu_usage, memory_usage, disk_usage, disk_read_mbps, disk_write_mbps, network_in_mbps, network_out_mbps, temperature FROM "vm_metrics_history" WHERE vm_id = '039e50d8-1b99-499f-9359-272724d5970e' AND recorded_at >= '2026-02-06 10:53:14.493' ORDER BY recorded_at ASC
[GIN] 2026/02/07 - 10:53:14 | 200 |    3.714834ms |             ::1 | GET      "/api/v1/vms/039e50d8-1b99-499f-9359-272724d5970e/metrics/history?period=24h"
[GIN] 2026/02/07 - 10:53:18 | 204 |       4.375Âµs |             ::1 | OPTIONS  "/api/v1/vms?page=1&pageSize=20"

2026/02/07 10:53:18 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:218
[0m[33m[2.468ms] [34;1m[rows:1][0m SELECT count(*) FROM "vms" WHERE is_deleted = false

2026/02/07 10:53:18 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:221
[0m[33m[0.442ms] [34;1m[rows:6][0m SELECT * FROM "vms" WHERE is_deleted = false ORDER BY created_at DESC LIMIT 20
[GIN] 2026/02/07 - 10:53:18 | 200 |    3.114459ms |             ::1 | GET      "/api/v1/vms?page=1&pageSize=20"

2026/02/07 10:53:20 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:218
[0m[33m[1.963ms] [34;1m[rows:1][0m SELECT count(*) FROM "vms" WHERE is_deleted = false

2026/02/07 10:53:20 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:221
[0m[33m[0.444ms] [34;1m[rows:6][0m SELECT * FROM "vms" WHERE is_deleted = false ORDER BY created_at DESC LIMIT 20
[GIN] 2026/02/07 - 10:53:20 | 200 |    2.649083ms |             ::1 | GET      "/api/v1/vms?page=1&pageSize=20"

2026/02/07 10:55:34 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:218
[0m[33m[1.855ms] [34;1m[rows:1][0m SELECT count(*) FROM "vms" WHERE is_deleted = false

2026/02/07 10:55:34 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:221
[0m[33m[0.500ms] [34;1m[rows:6][0m SELECT * FROM "vms" WHERE is_deleted = false ORDER BY created_at DESC LIMIT 20
[GIN] 2026/02/07 - 10:55:34 | 200 |    3.687833ms |             ::1 | GET      "/api/v1/vms?page=1&pageSize=20"

2026/02/07 10:55:34 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:218
[0m[33m[0.521ms] [34;1m[rows:1][0m SELECT count(*) FROM "vms" WHERE is_deleted = false

2026/02/07 10:55:34 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:221
[0m[33m[0.420ms] [34;1m[rows:6][0m SELECT * FROM "vms" WHERE is_deleted = false ORDER BY created_at DESC LIMIT 20
[GIN] 2026/02/07 - 10:55:34 | 200 |    1.388042ms |             ::1 | GET      "/api/v1/vms?page=1&pageSize=20"

2026/02/07 10:55:37 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:416
[0m[33m[1.433ms] [34;1m[rows:1][0m SELECT count(*) FROM "alert_records"

2026/02/07 10:55:37 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:418
[0m[33m[0.440ms] [34;1m[rows:8][0m SELECT * FROM "alert_records" ORDER BY triggered_at DESC LIMIT 10
[GIN] 2026/02/07 - 10:55:37 | 200 |    2.054667ms |             ::1 | GET      "/api/v1/alerts/records"

2026/02/07 10:55:37 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:424
[0m[33m[3.208ms] [34;1m[rows:1][0m SELECT count(*) FROM "alert_records"

2026/02/07 10:55:37 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:425
[0m[33m[0.660ms] [34;1m[rows:1][0m SELECT count(*) FROM "alert_records" WHERE status = 'active'

2026/02/07 10:55:37 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:426
[0m[33m[0.263ms] [34;1m[rows:1][0m SELECT count(*) FROM "alert_records" WHERE severity = 'critical'

2026/02/07 10:55:37 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:324
[0m[33m[3.428ms] [34;1m[rows:1][0m SELECT count(*) FROM "alert_rules"

2026/02/07 10:55:37 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:427
[0m[33m[0.170ms] [34;1m[rows:1][0m SELECT count(*) FROM "alert_records" WHERE severity = 'warning'
[GIN] 2026/02/07 - 10:55:37 | 200 |       4.628ms |             ::1 | GET      "/api/v1/alerts/stats"

2026/02/07 10:55:37 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:326
[0m[33m[0.795ms] [34;1m[rows:2][0m SELECT * FROM "alert_rules" ORDER BY created_at DESC LIMIT 10
[GIN] 2026/02/07 - 10:55:37 | 200 |    4.425333ms |             ::1 | GET      "/api/v1/alerts/rules"
[GIN] 2026/02/07 - 10:56:18 | 204 |      53.833Âµs |             ::1 | OPTIONS  "/api/v1/vms/metrics/all"

2026/02/07 10:56:18 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:218
[0m[33m[3.142ms] [34;1m[rows:1][0m SELECT count(*) FROM "vms" WHERE is_deleted = false

2026/02/07 10:56:18 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:221
[0m[33m[0.931ms] [34;1m[rows:6][0m SELECT * FROM "vms" WHERE is_deleted = false ORDER BY created_at DESC LIMIT 20
[GIN] 2026/02/07 - 10:56:18 | 200 |     4.32775ms |             ::1 | GET      "/api/v1/vms?page=1&pageSize=20"

2026/02/07 10:56:18 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:1025
[0m[33m[1.569ms] [34;1m[rows:-][0m 
				SELECT 
					v.id as vm_id,
					v.name as vm_name,
					m.cpu_usage,
					m.memory_usage,
					m.disk_usage,
					m.disk_read_mbps,
					m.disk_write_mbps,
					m.network_in_mbps,
					m.network_out_mbps,
					m.temperature,
					m.recorded_at
				FROM vms v
				LEFT JOIN vm_metrics m ON v.id = m.vm_id
				WHERE v.is_deleted = false
				ORDER BY m.recorded_at DESC
			
[GIN] 2026/02/07 - 10:56:18 | 200 |    1.690625ms |             ::1 | GET      "/api/v1/vms/metrics/all"

2026/02/07 10:57:16 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:218
[0m[33m[1.730ms] [34;1m[rows:1][0m SELECT count(*) FROM "vms" WHERE is_deleted = false

2026/02/07 10:57:16 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:221
[0m[33m[0.532ms] [34;1m[rows:6][0m SELECT * FROM "vms" WHERE is_deleted = false ORDER BY created_at DESC LIMIT 20
[GIN] 2026/02/07 - 10:57:16 | 200 |    2.567542ms |             ::1 | GET      "/api/v1/vms?page=1&pageSize=20"

2026/02/07 10:57:16 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:1025
[0m[33m[3.668ms] [34;1m[rows:-][0m 
				SELECT 
					v.id as vm_id,
					v.name as vm_name,
					m.cpu_usage,
					m.memory_usage,
					m.disk_usage,
					m.disk_read_mbps,
					m.disk_write_mbps,
					m.network_in_mbps,
					m.network_out_mbps,
					m.temperature,
					m.recorded_at
				FROM vms v
				LEFT JOIN vm_metrics m ON v.id = m.vm_id
				WHERE v.is_deleted = false
				ORDER BY m.recorded_at DESC
			
[GIN] 2026/02/07 - 10:57:16 | 200 |     3.81075ms |             ::1 | GET      "/api/v1/vms/metrics/all"

2026/02/07 10:58:40 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:218
[0m[33m[3.251ms] [34;1m[rows:1][0m SELECT count(*) FROM "vms" WHERE is_deleted = false

2026/02/07 10:58:40 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:221
[0m[33m[3.021ms] [34;1m[rows:6][0m SELECT * FROM "vms" WHERE is_deleted = false ORDER BY created_at DESC LIMIT 20
[GIN] 2026/02/07 - 10:58:40 | 200 |    9.143708ms |             ::1 | GET      "/api/v1/vms?page=1&pageSize=20"

2026/02/07 10:58:40 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:1025
[0m[33m[9.564ms] [34;1m[rows:-][0m 
				SELECT 
					v.id as vm_id,
					v.name as vm_name,
					m.cpu_usage,
					m.memory_usage,
					m.disk_usage,
					m.disk_read_mbps,
					m.disk_write_mbps,
					m.network_in_mbps,
					m.network_out_mbps,
					m.temperature,
					m.recorded_at
				FROM vms v
				LEFT JOIN vm_metrics m ON v.id = m.vm_id
				WHERE v.is_deleted = false
				ORDER BY m.recorded_at DESC
			
[GIN] 2026/02/07 - 10:58:40 | 200 |   10.507166ms |             ::1 | GET      "/api/v1/vms/metrics/all"

2026/02/07 11:01:10 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:218
[0m[33m[2.750ms] [34;1m[rows:1][0m SELECT count(*) FROM "vms" WHERE is_deleted = false

2026/02/07 11:01:10 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:1025
[0m[33m[2.560ms] [34;1m[rows:-][0m 
				SELECT 
					v.id as vm_id,
					v.name as vm_name,
					m.cpu_usage,
					m.memory_usage,
					m.disk_usage,
					m.disk_read_mbps,
					m.disk_write_mbps,
					m.network_in_mbps,
					m.network_out_mbps,
					m.temperature,
					m.recorded_at
				FROM vms v
				LEFT JOIN vm_metrics m ON v.id = m.vm_id
				WHERE v.is_deleted = false
				ORDER BY m.recorded_at DESC
			
[GIN] 2026/02/07 - 11:01:10 | 200 |    3.243959ms |             ::1 | GET      "/api/v1/vms/metrics/all"

2026/02/07 11:01:10 [32m/Users/weihua/PJ/vm-monitor-system/server/complete_api_server.go:221
[0m[33m[1.763ms] [34;1m[rows:6][0m SELECT * FROM "vms" WHERE is_deleted = false ORDER BY created_at DESC LIMIT 20
[GIN] 2026/02/07 - 11:01:10 | 200 |    4.798709ms |             ::1 | GET      "/api/v1/vms?page=1&pageSize=20"
